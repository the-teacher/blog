### Singlton

Singleton — порождающий шаблон, гарантирующий что в однопоточном приложении будет единственный экземпляр класса с глобальной точкой доступа.

#### Плюсы

* Контролируемый доступ к единственному экземпляру.

#### Минусы

* Нарушение контроля. Синглтон нарушает SRP (Single Responsibility Principle) — контролирует кол-во объектов
* Сложность поддержки. Трудно отследить зависимость от синглтона. Вызывается внутри методов и обычно не передается в качестве аргумента. Скрытый публичный контракт.
* Глобальное состояние. Неявная зависимость подсистем. Мы не знаем текущее состояние объекта, кто и когда его менял, и это состояние может быть вовсе не таким, как ожидается. Корректность работы с синглтоном зависит от порядка обращений к нему.
* Снижение тестируемости. Вместо синглтона нельзя подпихнуть Mock-объект. Если синглтон имеет интерфейс для изменения своего состояния, то тесты начинают зависеть друг от друга.

#### Использование

* Должен быть ровно один экземпляр некоторого класса, легко доступный всем клиентам
* Единственный экземпляр должен расширяться путем порождения подклассов, и клиентам нужно иметь возможность работать с расширенным экземпляром без модификации своего кода. (?)

### Объектный литерал

**Объектный литерал** - это способ описания объектов, с использованием пар ключ/значение внутри  фигурных скобок.

Объектный литерал не требует инстанцирования через **new*

Объектный литерал может быть расширен путем определения нового свойства следующим способом: **myModule.newField = value;**

```coffeescript
  user =
    fname: 'John'
    lname: 'Smith'
    voice: -> "Hello people!"

  user.dance = -> "Move to the left, Move to the right"

  log user
  log user.voice()
  log user.dance()
```

### Модуль

Модули это неотьемлимая часть всякой сложной и надежной системы. Они позволяют аккуратно организовать код.

Модули основаны на объектных литералах.

Шаблон модуль использует возвращение объектного литерала из определеющей функции.

Шаблон модуль появлися из попытки использовать в JS понятие публичных и частных методов класса.

Шаблон очень похож на немебленно вызываемую функцию, за исключением того, что возвращается не функция а объект.

Этот шаблон широко известен с 2003 года.

```coffeescript
  User = do ->
    fname = 'John'
    lname = 'Smith'
    voice = -> "Hello people!"

    fname: fname
    lname: lname
    voice: voice
    double_voice: -> [voice(), voice()].join ' '

  log User
  log User.fname
  log User.lname
  log User.voice
  log User.double_voice()
```

#### Плюсы

* Предоставляет открытое API для взаимодействия
* Ограничение области видимости функций, что уменшит вероятность конликта имен.
* Защита внутреннего функционала от внешнего воздействия.
* Легкое понимание и принятие программистами с опытом ООП.
* Позволяет исключить утечку переменных в глобальную область.

#### Минусы

* Мы не можем получить доступ к приватным методам при последующем расширения модуля.
* Нет возможности создать тесты для приватных методов
* Теряем гибкость при работе с приватными методами.

